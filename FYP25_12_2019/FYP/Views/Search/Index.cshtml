
@{
    ViewBag.Title = "Index";
}


<div class="">
    <input type="text" id="CityName" />
    <a href="#" class="btn btn-success" id="search">Search</a>
   
</div>




<style>
     span.error {
        display: block;
        visibility: hidden;
        color: #d93025;
        font-size: 90%;
        margin-top: 3px;
        
    }
</style>


<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<script type="text/javascript">

    $(document).ready(function () {
       
        debugger
        $("#search").click(function () {
            var Valid = false;

            var search = $('#CityName').val();

                if (search != null)
                {
                    Valid = true;
                }
            else
                {
                    Valid = false;
                }

                debugger


                if(Valid)
                {
                    $.ajax({
                        type: 'POST',
                        url: '/Search/search',
                        contentType: "application/json;charset=utf-8",
                        data: JSON.stringify({ searchbar: search }),
                        success: function (data) {
                            if (data.status) {
                                window.location.href = (data.newurl);
                            }
                            else
                            {
                                window.location.href = (data.cURL);
                            }
            
                        }

                    })
                }
                debugger
            });
        
    

       

        //debugger
        //$("#CityName").autocomplete({
        //    source: function (request,response) {
        //        $.ajax({
        //            url: "/Search/GetRecord",
        //            type: "POST",
        //            dataType: "json",
        //            data: { prefix: request.term },
        //            success: function (data) {
        //                response($.map(data, function (item) {

        //                    return { label: item.C_Name, value: item.C_Name };
        //                }))
        //            }
        //        })
        //    },
        //});
        debugger
    });
</script>
